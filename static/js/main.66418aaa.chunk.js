(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/loading.3aaaadcf.gif"},43:function(e,t,a){e.exports=a.p+"static/media/spotify_logo.31bad8d4.png"},44:function(e,t,a){e.exports=a.p+"static/media/spotify.276f273d.gif"},45:function(e,t,a){e.exports=a.p+"static/media/loadingNes.ce275db8.gif"},49:function(e,t,a){e.exports=a(91)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),s=(a(54),a(4)),i=a(5),o=a(7),m=a(6),u=a(8),p=(a(55),a(39)),d=a.n(p),h=a(99),g=a(101),E=a(100),b=(a(56),a(57),a(9)),v=a(2);var f=function(e){return l.a.createElement("div",{className:"oneSong ".concat(e.active)},l.a.createElement("div",{className:"iconOneSong"},l.a.createElement(b.a,{icon:v.i})),l.a.createElement("div",{className:"songName"},e.track.title),l.a.createElement("div",{className:"songTime"},e.time))};a(61);var y=function(){return l.a.createElement("div",{className:"copyRight"},l.a.createElement(b.a,{icon:v.f})," 1999 ACT Music + Vison GmbH + Co.KG",l.a.createElement("br",null),l.a.createElement(b.a,{icon:v.f})," 1999 ACT Music + Vison GmbH + Co.KG")},k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).millisecToMinutes=function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a},a.chooseSong=function(e,t){var n={album:a.props.all_data.album.name,track:e.number};a.props.choose_song(n)},a.state={activeIndex:0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.all_data;return l.a.createElement(l.a.Fragment,null,t.status?l.a.createElement("div",{className:"playlistComponent"},l.a.createElement("div",{className:"listSong"},t.album.tracks.map(function(a,n){return l.a.createElement("div",{key:a.number,onClick:function(){return e.chooseSong(a,n)}},l.a.createElement(f,{active:parseInt(t.all_data.user.playing.track)-1===n?"active":"",track:a,time:e.millisecToMinutes(parseInt(a.legnth))}))})),l.a.createElement("div",{className:"copyRight"},l.a.createElement(y,null))):null)}}]),t}(n.Component),O=a(20),j=(a(62),a(93)),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).isPlay=a.isPlay.bind(Object(O.a)(Object(O.a)(a))),a.stop=a.stop.bind(Object(O.a)(Object(O.a)(a))),a.play=a.play.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"stop",value:function(){var e=this.props.album;this.props.chooseSong({album:e.name,track:e.tracks[0].number})}},{key:"play",value:function(){var e=this.props.album;this.props.chooseSong({album:e.name,track:e.tracks[0].number}),this.props.startPlay()}},{key:"isPlay",value:function(e){}},{key:"render",value:function(){var e=this.props.all_data;return l.a.createElement(l.a.Fragment,null,e.status?l.a.createElement("div",{className:"detailsComponent"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:e.album.covers.large,alt:"Loading Cover"})),l.a.createElement("div",{className:"titleCover"},e.album.name),l.a.createElement("div",{className:"singer"},e.album.artist),!e.playing&&e.stopping?l.a.createElement(j.a,{color:"success",onClick:this.props.control_start},"PLAY"):l.a.createElement(j.a,{color:"danger",onClick:this.props.control_stop},"STOP"),l.a.createElement("div",{className:"totalSong"},"".concat(e.album.year,".").concat(e.album.tracks.length," SONG")),l.a.createElement("div",{className:"controlCover"},l.a.createElement("div",{className:"controlType"},"REMOVE FROM YOUR LIBRARY"),l.a.createElement("div",{className:"moreControl"},"..."))):null)}}]),t}(n.Component),_=a(94);var S=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{xs:"6",sm:"4",className:"loading"},l.a.createElement(N,e)),l.a.createElement(_.a,{xs:"6",sm:"6",className:"loading"},l.a.createElement(k,e)))},C=(a(63),a(16)),A=a.n(C),T=a(23),x=a.n(T),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).changeClamp=function(){a.setState({clamp:3})},a.defaultClamp=function(){a.setState({clamp:1})},a.state={artist:"",clamp:1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(this.props.album.cover,")"),backgroundSize:"cover",backgroundPosition:"center center",width:"100%",height:"250px",borderRadius:"5px",boxShadow:"5px 5px 20px rgb(48, 48, 48)"};return l.a.createElement(_.a,{xs:"4",sm:"3"},l.a.createElement("div",{className:"oneAlbum",onMouseOver:this.changeClamp,onMouseOut:this.defaultClamp,onClick:function(){e.props.click(e.props.index+1)}},l.a.createElement("div",{style:t}),l.a.createElement("div",{className:"albumTitle"},l.a.createElement(x.a,{clamp:this.state.clamp,className:"albumName"},this.props.album.album),l.a.createElement("em",null,this.state.artist))))}}]),t}(n.Component),P=a(95),M=(a(85),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).click=function(e){A.a.get("https://hailduong.github.io/lyduong/react-assignment/spotify-2/apis/album/".concat(e,".json")).then(function(t){a.props.updateAlbum(t.data,e),a.props.urlData.history.push("/albumdetails")}).catch(function(e){console.log("Error",e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.all_data,a=t.all_data,n=t.status;return l.a.createElement(l.a.Fragment,null,n?l.a.createElement(_.a,{sm:"10",className:"libContent"},l.a.createElement("div",{className:"category"},"Album"),l.a.createElement(P.a,null,a.all_album.map(function(t,a){return l.a.createElement(w,{key:a,albumDetails:e.props.album,album:t,index:a,click:e.click})}))):l.a.createElement("div",null,"Loading..."))}}]),t}(n.Component)),I=a(47),F=a(10),R=a(42),L=a.n(R),D=function(e){var t=new L.a;return function(a){function n(e){var a;Object(s.a)(this,n),(a=Object(o.a)(this,Object(m.a)(n).call(this,e))).updateAlbum=function(e,t){a.state.recentPlay.unshift({id:t,album:e}),a.setState(Object(F.a)({},a.state,{album:e,recentPlay:Object(I.a)(a.state.recentPlay),playing:!0,stopping:!1}),function(){a.state.recentPlay.length>4&&a.state.recentPlay.splice(-1,1),a.setState({all_data:Object(F.a)({},a.state.all_data,{user:Object(F.a)({},a.state.all_data.user,{playing:{album:a.state.album.name,track:"1"}})})})})},a.control_play_pause=function(){a.setState(function(e){return Object(F.a)({},a.state,{playing:!e.playing,stopping:!e.stopping})})},a.control_play=function(){a.setState(Object(F.a)({},a.state,{playing:!0,stopping:!1}))},a.control_pause=function(){a.setState(Object(F.a)({},a.state,{playing:!1}))},a.control_stop=function(){a.setState(function(e){return Object(F.a)({},a.state,{all_data:Object(F.a)({},a.state.all_data,{user:Object(F.a)({},a.state.all_data.user,{playing:{album:a.state.album.name,track:"1"}})}),playing:!1,stopping:!0})})},a.control_start=function(){a.setState(function(e){return Object(F.a)({},a.state,{all_data:Object(F.a)({},a.state.all_data,{user:Object(F.a)({},a.state.all_data.user,{playing:{album:a.state.album.name,track:"1"}})}),playing:!0,stopping:!1})})},a.choose_song=function(e){a.setState(Object(F.a)({},a.state,{all_data:Object(F.a)({},a.state.all_data,{user:Object(F.a)({},a.state.all_data.user,{playing:e})}),playing:!0,stopping:!1}))},a.control_repeat=function(){a.setState(function(e){return Object(F.a)({},a.state,{repeat:!e.repeat})}),console.log(a.state)};var l=a.getHashParams().access_token;return t.setAccessToken(l),a.state={all_data:{},status:!1,album:[],playing:!1,stopping:!0,recentPlay:[],repeat:!1,TOKEN:l||""},a}return Object(u.a)(n,a),Object(i.a)(n,[{key:"getHashParams",value:function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=a.exec(n);e;)t[e[1]]=decodeURIComponent(e[2]),e=a.exec(n);return t}},{key:"componentDidMount",value:function(){var e=this,t=A.a.get("https://raw.githubusercontent.com/hailduong/lyduong/master/react-assignment/spotify/apis/userInfo.json").then(function(e){return e.data}).catch(function(e){return console.log("Error User",e)}),a=A.a.get("https://hailduong.github.io/lyduong/react-assignment/spotify-2/apis/yourLibrary.json").then(function(e){return e.data}).catch(function(e){return console.log("Error All Album",e)}),n=A.a.get("https://hailduong.github.io/lyduong/react-assignment/spotify-2/apis/album/1.json").then(function(e){return e.data}).catch(function(e){return console.log("Error First Album",e)});A.a.all([t,a,n]).then(function(t){e.setState({all_data:{user:t[0],all_album:t[1]},album:t[2],status:!0})}).catch(function(e){console.log("Promise All Error",e)})}},{key:"render",value:function(){return l.a.createElement(e,{all_data:this.state,updateAlbum:this.updateAlbum,control_play:this.control_play,control_pause:this.control_pause,control_stop:this.control_stop,control_start:this.control_start,choose_song:this.choose_song,control_repeat:this.control_repeat,recentPlay:this.state.recentPlay,token:this.state.TOKEN})}}]),n}(l.a.Component)};a(24).b.add(v.g,v.m,v.d,v.a);a(38);var B=a(43),U=a.n(B),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={active:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){0===this.props.index&&this.setState({active:"activeMenu"})}},{key:"render",value:function(){var e=this.props.recent;return l.a.createElement(l.a.Fragment,null,e?l.a.createElement("div",{className:"recentList ".concat(this.state.active)},l.a.createElement("div",{className:"details"},e.album.name?l.a.createElement("div",{className:"title"},l.a.createElement(x.a,{clamp:1},e.album.name)):null,l.a.createElement("div",{className:"type"},e.album.artist))):null)}}]),t}(n.Component),W=a(96),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).changeSong=function(e,t){0!==t?A.a.get("https://hailduong.github.io/lyduong/react-assignment/spotify-2/apis/album/".concat(e,".json")).then(function(t){a.props.updateAlbum(t.data,e),a.setState({active:3})}).catch(function(e){console.log("Error",e)}):(a.props.startPlay(),a.setState({active:3}))},a.sendActive=function(e){a.setState({activeIndex:e})},a.changeActive=function(e){a.setState({active:parseInt(e)})},a.state={activeIndex:0,active:1,isPlaying:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.all_data.playing?this.setState({isPlaying:"playing"}):this.setState({isPlaying:""})}},{key:"componentDidMount",value:function(){"/nhothspotify/albumdetails"===window.location.pathname||"/nhothspotify/library"===window.location.pathname?this.changeActive("3"):"/nhothspotify/search"===window.location.pathname&&this.changeActive("2"),!0===this.props.all_data.playing?this.setState({isPlaying:"playing"}):this.setState({isPlaying:""})}},{key:"render",value:function(){var e=this,t=this.props.all_data.all_data;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"menuComponent"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:U.a,id:"logo",alt:"Loading Logo"})),l.a.createElement("div",{className:"menu"},l.a.createElement("ul",null,l.a.createElement(W.a,{to:"/"},l.a.createElement("li",{className:1===this.state.active?"activeMenu":null,onClick:function(){e.changeActive("1")}},l.a.createElement(b.a,{icon:"home"}),"Home")),l.a.createElement(W.a,{to:"/search"},l.a.createElement("li",{className:2===this.state.active?"activeMenu":null,onClick:function(){e.changeActive("2")}},l.a.createElement(b.a,{icon:"search"}),"Search")),l.a.createElement(W.a,{to:"/library"},l.a.createElement("li",{className:3===this.state.active?"activeMenu":null,onClick:function(){e.changeActive("3")}},l.a.createElement(b.a,{icon:"braille"}),"Your Library")))),l.a.createElement("br",null),l.a.createElement("div",{className:"recent"},"RECENTLY PLAYED"),l.a.createElement("div",{className:"sumList"},this.props.recentPlay.map(function(a,n){return l.a.createElement("div",{id:"recent",onClick:function(){e.changeSong(a.id,n)},key:n},l.a.createElement(W.a,{to:"/albumdetails"},l.a.createElement(H,{index:n,recent:a,type:t.user.recentlyPlayedType[a.type]})))})),l.a.createElement("div",{className:"install ".concat(this.state.isPlaying)},l.a.createElement("a",{href:"https://www.spotify.com/vn-en/download/windows/"},l.a.createElement("div",{className:"installIcon"},l.a.createElement(b.a,{icon:v.b})),l.a.createElement("div",{className:"installWord"},"Install App")),l.a.createElement("hr",null),l.a.createElement("div",{className:"account"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:t.user.avatar,alt:"userAvatar"})),l.a.createElement("div",{className:"userName"},t.user.name)))))}}]),t}(n.Component),K=(a(86),a(97)),G=a(13),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).millisecToMinutes=function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a},a.startCount=function(){Object(G.clearInterval)(a.state.interval),a.state.interval=Object(G.setInterval)(function(){var e=parseInt(a.props.all_data.album.tracks[parseInt(a.props.all_data.all_data.user.playing.track-1)].legnth),t=6e4*a.state.startMinute+a.state.startSeconds;a.setState(function(a){return{startSeconds:a.startSeconds+1e3,percent:t/e*100}},function(){6e4===a.state.startSeconds&&a.setState(function(e){return{startMinute:e.startMinute+1,startSeconds:0}}),t>=e&&(a.props.repeat?a.control("REPEAT"):a.control("NEXT"))})},1e3)},a.control=function(e){var t=a.props.all_data.all_data.user,n=a.props.all_data.album,l=t.playing.track;switch(e){case"RANDOM":l=n.tracks[Math.floor(Math.random()*(n.tracks.length+1))].number,a.startCount();break;case"PREVIOUS":console.log(n.tracks.length),l=1===parseInt(t.playing.track)?n.tracks.length:n.tracks[parseInt(t.playing.track-1)-1].number,a.startCount();break;case"PLAY":a.resume();break;case"PAUSE":a.pause_music();break;case"NEXT":a.setState({startSeconds:0,startMinute:0,percent:0}),l=parseInt(t.playing.track)>=n.tracks.length?"1":n.tracks[parseInt(t.playing.track-1)+1].number,a.startCount();break;case"REPEAT":a.setState({startSeconds:6,startMinute:2e4,percent:0}),l=n.tracks[parseInt(t.playing.track-1)].number,a.startCount();break;default:console.log("Haha Th\u1ee9 Ngu")}console.log(l);var r={album:a.props.all_data.album.name,track:l+""};a.props.choose_song(r)},a.random=function(){a.control("RANDOM")},a.previous=function(){a.control("PREVIOUS")},a.play=function(){a.props.all_data.playing?(a.props.control_pause(),a.startCount()):(a.props.control_play(),Object(G.clearInterval)(a.state.interval))},a.next=function(){a.control("NEXT")},a.repeat=function(){a.props.control_repeat()},a.state={interval:null,startSeconds:0,startMinute:0,totalTime:"",percent:0,endTime:0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.all_data.playing?this.startCount():Object(G.clearInterval)(this.state.interval)}},{key:"componentWillReceiveProps",value:function(e){!0===e.all_data.playing?this.startCount():Object(G.clearInterval)(this.state.interval),e.all_data.all_data.user.playing!==this.props.all_data.all_data.user.playing&&this.setState({startSeconds:0,startMinute:0,percent:0}),e.all_data.stopping!==this.props.all_data.stopping&&(this.setState({startSeconds:0,startMinute:0,percent:0}),!0===e.all_data.stopping?Object(G.clearInterval)(this.state.interval):this.startCount())}},{key:"componentDidUpdate",value:function(e,t){try{e.all_data.all_data.user.playing.track!==this.props.all_data.all_data.user.playing.track&&(this.setState({startSeconds:0,startMinute:0,percent:0}),this.startCount())}catch(a){}}},{key:"playingStatus",value:function(){this.props.playing?this.startCount():Object(G.clearInterval)(this.state.interval)}},{key:"render",value:function(){var e=this.props.all_data,t=this.props.all_data.all_data.user;return console.log(this.props),l.a.createElement(l.a.Fragment,null,e.status?l.a.createElement(P.a,null,l.a.createElement("div",{className:"controlComponent"},l.a.createElement(_.a,{xs:"2",sm:"1"},l.a.createElement("div",{className:"imageControl"},l.a.createElement("img",{src:e.album.covers.small,alt:"Loading"}))),l.a.createElement(_.a,{xs:"2",sm:"2"},e.album.tracks.map(function(a,n){return t.playing.track===a.number?l.a.createElement("div",{className:"detailsControl",key:n},a.title,l.a.createElement("div",{className:"singer"},e.album.artist)):null})),l.a.createElement(_.a,{xs:"2",sm:"1"},l.a.createElement("div",{className:"checkButton"},l.a.createElement(b.a,{icon:v.e}))),l.a.createElement(_.a,{xs:"2",sm:"4"},l.a.createElement("div",{className:"flowControl"},l.a.createElement(b.a,{icon:v.l,onClick:this.random}),l.a.createElement(b.a,{icon:v.n,onClick:this.previous}),l.a.createElement(b.a,{icon:this.props.all_data.playing?v.j:v.k,onClick:this.play,id:"playButton"}),l.a.createElement(b.a,{icon:v.o,onClick:this.next}),l.a.createElement(b.a,{icon:this.props.all_data.repeat?v.c:v.q,onClick:this.repeat})),l.a.createElement("div",{className:"progressFlow"},l.a.createElement("div",{className:"startTime"},"".concat(this.state.startMinute," :").concat(this.state.startSeconds/1e3<10?"0"+this.state.startSeconds/1e3:this.state.startSeconds/1e3)),l.a.createElement("div",{className:"progressBar"},l.a.createElement(K.a,{value:this.state.percent})),l.a.createElement("div",{className:"endTime"},this.millisecToMinutes(this.props.all_data.album.tracks[parseInt(this.props.all_data.all_data.user.playing.track)-1].legnth)))),l.a.createElement(_.a,{xs:"2",sm:"3"},l.a.createElement("div",{className:"musicControl"},l.a.createElement(b.a,{icon:v.h}),l.a.createElement(b.a,{icon:v.p}),l.a.createElement(b.a,{icon:v.r}),l.a.createElement(K.a,{id:"musicControlProg",value:"0"}))))):null)}}]),t}(n.Component),X=a(44),q=a.n(X);a(87);var z=function(e){return l.a.createElement(_.a,{xs:"6",sm:"10",className:"loadingHome"},l.a.createElement("img",{src:q.a,width:"80%",alt:"Waitting for Data"}))},J=a(98),$=(a(88),a(45)),Q=a.n($);var Z=function(e){return l.a.createElement("div",{className:"oneAlbumSearch"},l.a.createElement("img",{src:e.album.images[1].url,alt:"albumImage"}),l.a.createElement(x.a,{clamp:2},l.a.createElement("div",null,e.album.name)))};var ee=function(e){return l.a.createElement("div",{className:"oneTrackSearch oneAlbumSearch"},l.a.createElement("div",null,e.track.name),l.a.createElement("div",null,e.track.artists[0].name))},te=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.albums,a=e.tracks;return t.items.length>0||a.items.length>0?l.a.createElement(P.a,null,l.a.createElement(_.a,{sm:"7",xs:"main"},l.a.createElement("div",{className:"searchTitle"},"TOP 5 ALBUMS"),l.a.createElement(P.a,null,t.items.length>0&&t.items.slice(0,5).map(function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(_.a,{sm:"4"},l.a.createElement(Z,{album:e})))}))),l.a.createElement(_.a,{sm:"5"},l.a.createElement("div",{className:"searchTitle"},"TOP 5 TRACKS"),l.a.createElement(P.a,null,a.items.length>0?a.items.slice(0,5).map(function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(_.a,{sm:"12"},l.a.createElement(ee,{track:e})))}):l.a.createElement("div",{className:"Error"},"No Any Track")))):l.a.createElement("div",{className:"Error"},"No Anything Found")}}]),t}(n.Component);var ae=function(e){var t=e.data.items;return t.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"searchTitle"},"TRACKS"),l.a.createElement(P.a,null,l.a.createElement(_.a,{sm:"6",xs:"main"},l.a.createElement(P.a,null,t.length>0?t.slice(0,9).map(function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(_.a,{sm:"12"},l.a.createElement(ee,{track:e})))}):l.a.createElement("div",{className:"Error"},"No Any Track"))),l.a.createElement(_.a,{sm:"6"},l.a.createElement(P.a,null,t.length>0?t.slice(10,19).map(function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(_.a,{sm:"12"},l.a.createElement(ee,{track:e})))}):l.a.createElement("div",{className:"Error"},"No Any Track")))))};var ne=function(e){var t=e.data.items;return t.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"searchTitle"},"ALBUMS"),l.a.createElement(P.a,null,l.a.createElement(_.a,{sm:"12",xs:"main"},l.a.createElement(P.a,null,t.length>0?t.map(function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(_.a,{sm:"2"},l.a.createElement(Z,{album:e})))}):l.a.createElement("div",{className:"Error"},"No Any Album")))))},le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).searchHandler=function(e){""===e.target.value?a.setState({typing:!1,status:!1}):a.setState({typing:!0});var t=e.target.value.replace(/ /g,"+");clearTimeout(a.state.getSong),a.state.getSong=setTimeout(function(){A.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=track,album&limit=20"),{headers:a.state.headers}).then(function(e){a.setState({status:!0,data:e.data})}).catch(function(e){a.setState({tokenExpired:!0}),a.props.history.push("/error")})},1e3)},a.state={result:[],getSong:null,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a.props.token)},status:!1,typing:!1,data:[],tokenExpired:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=l.a.createElement("div",{className:"content"},l.a.createElement(te,{data:this.state.data}),l.a.createElement(ae,{data:this.state.data.tracks}),l.a.createElement(ne,{data:this.state.data.albums}));return this.state.tokenExpired?window.location="https://spotifytoken01.herokuapp.com/":l.a.createElement(_.a,{sm:"10",id:"searchBox"},l.a.createElement("div",{className:"search"},l.a.createElement(J.a,{id:"SearchInput",autoFocus:!0,placeholder:"Start typing...",onChange:this.searchHandler})),this.state.typing?this.state.status?this.state.data.length>0?l.a.createElement("div",null,"No any data"):l.a.createElement(l.a.Fragment,null,e):l.a.createElement("div",{className:"loadingSearch"},l.a.createElement("img",{src:Q.a,alt:"loading"})):l.a.createElement("div",{className:"result"},l.a.createElement("h4",null,"Search Spotify"),l.a.createElement("p",null,"Find your favorite songs,album, podcasts and playlists.")))}}]),t}(n.Component),re=D(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={timeOut:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.userStatus||!1===this.props.allAlbumStatus?this.state.timeOut=Object(G.setTimeout)(function(){window.location.reload()},5e3):Object(G.clearTimeout)(this.state.timeOut)}},{key:"componentDidUpdate",value:function(){!0===this.props.userStatus&&!0===this.props.allAlbumStatus&&Object(G.clearTimeout)(this.state.timeOut)}},{key:"render",value:function(){var e=this,t=this.props.all_data.status;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,null,l.a.createElement(h.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{xs:"6",sm:"2"},l.a.createElement(Y,this.props)),l.a.createElement(g.a,null,l.a.createElement(E.a,{exact:!0,path:"/",component:z}),l.a.createElement(E.a,{path:"/library",render:function(t){return l.a.createElement(M,Object.assign({},e.props,{urlData:t}))}}),l.a.createElement(E.a,{path:"/search",render:function(t){return l.a.createElement(le,e.props)}}),l.a.createElement(E.a,{path:"/albumdetails",render:function(){return l.a.createElement(S,e.props)}}))))),this.props.all_data.playing&&l.a.createElement(V,this.props)):l.a.createElement("div",{className:"loading"},l.a.createElement("img",{src:d.a,width:"20%",alt:"Waitting for Data"})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);c.a.render(l.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.66418aaa.chunk.js.map